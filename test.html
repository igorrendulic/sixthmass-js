<html>
	<head>
		 <script src="src/util.js"></script>
		<script src="src/zivorad-main.js"></script>
		
		<!-- <script src="dist/zivorad.min.0.0.1.js"></script> -->
		<script type="text/javascript">

			var ZR_LIB_URL = 'src/zivorad-main.js';

(function(){
	var zr = window.zr = window.zr || [];

	// method stub factory (makeing it possible to call functions before the lib is loaded - defered method calls)
	zr.factory = function(method){
      return function(){
        var args = Array.prototype.slice.call(arguments);
        args.unshift(method);
        zr.push(args);
        return zr;
      };
    };

    // exposed javascript methods
    var methods = ['init','track','profile','purchase', 'register'];
    for (var i=0; i<methods.length; i++) {
    	var method = methods[i];
    	zr[method] = zr.factory(method);
    }

    // loading javascript
	var script = document.createElement('script');
	script.type = 'text/javascript';
	script.async = true;
	script.src = ZR_LIB_URL;

	// Insert our script next to the first script element.
	var first = document.getElementsByTagName('script')[0];
	first.parentNode.insertBefore(script, first);

	var loaded = false;
	// // setup an onload handler to initialize the plugin once the runtime
	// // resources are downloaded
	script.onload = script.onreadystatechange = function() {
		if (!loaded && (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete')) {
			loaded = true;
			script.onload = script.onreadystatechange = null;
			window.zr = _zr_init();
		}
	};
})();


			zr.init("1990fdbf-d62b-4c7f-b89b-c5b09f7fa1a5");

			zr.track('my event',{'name':'igor'});

			zr.profile({
				'first_name':"Igor",
				"last_name":"Rendulic",
				"user_id":"123456",
				"email":"igor@amplio.si",
				"gender":"male",
				"business_name":"Amplio d.o.o.",
				"birthday":"1979-04-13"},
				{'custom':1, 'date':Date.now(), 'use':true, 'str':'StringYes', 'decimal':0.1});

		</script>

		<script type="text/javascript">
			function purchase() {
				console.log('purchase function called');
				zr.purchase([
						{"id":"itemId",
						"name":"itemName",
						"price":2134.23,
						"quantity":1},
						{"id":"itemId2",
						"name":"itemName2",
						"price":1111.23,
						"quantity":2}
					]
				);
			}

			function register() {
				console.log('register clicked');
				zr.register({"first_name":"Rudi", 
							"last_name":"Popudi", 
							"user_id":"theone", 
							"email":"igor+test1@azumio.com", 
							"business_name":"Zoo.Inc",
							"birthday":"1982-05-05"},
							{'some_number':1, 'date_me':Date.now(), 'boolean_value':true, 'string_value':'StringYes', 'decimal_value':0.1});
			}
		</script>
	</head>
	<body>
		<div>
			<a href="#" zr-event="test-link">Test link</a>

			<a href="test.html" target="_blank" zr-event="blank-event">Blank link</a>

			<p class="testClass" zr-event='click on div'>This is text</p>
			<p class="testClass" onclick="javascript:purchase()">Purchase clicked</p>s
			<p class="testClass" onclick="javascript:register()">Register new user click</p>s
			<div>
					<a href="#/test">Second div link</a>
					<button type="button">This is button</button>
			</div>
			<div>
				<form action="">
					<input type="text" name="test1" value="test1"/>
					<input type="button" name="button2" value="button2"/>
					<input type="submit" zr-event="submit-event" value="submit"/>
				</form>
			</div>
		</div>
	</body>
</html>